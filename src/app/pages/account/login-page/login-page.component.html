<div class="container mx-auto p-4">
  <div class="bg-base-100 mx-auto max-w-md p-8">
    <h1
      class="text-center text-3xl"
      [class.line-through]="this.auth.isUserLoggedIn()"
    >
      Zaloguj się
    </h1>
    @if (this.platform.isBrowser()) {
      @if (this.auth.isUserLoggedOut()) {
        <form class="my-6" [formGroup]="this.form" (ngSubmit)="signIn()">
          <fieldset class="fieldset rounded-box">
            <label class="label">E-mail</label>
            <input
              type="email"
              class="input w-full"
              placeholder="jan.kowalski@email.com"
              name="email"
              [class.input-error]="this.failed()"
              [formControl]="this.form.controls.email"
            />

            <label class="label">Hasło</label>
            <input
              type="password"
              class="input w-full"
              placeholder="••••••••"
              name="password"
              [class.input-error]="this.failed()"
              [formControl]="this.form.controls.password"
            />

            <button class="btn btn-primary mt-4">
              @if (this.loading()) {
                <span class="loading loading-spinner loading-xl"></span>
              } @else {
                <fa-icon [icon]="faRightToBracket" /> Zaloguj się
              }
            </button>
          </fieldset>
        </form>
      }
    }
  </div>
</div>
